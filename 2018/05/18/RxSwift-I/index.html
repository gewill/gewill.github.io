<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width">
<meta name="theme-color" content="#222" media="(prefers-color-scheme: light)">
<meta name="theme-color" content="#222" media="(prefers-color-scheme: dark)"><meta name="generator" content="Hexo 6.3.0">

  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">



<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" integrity="sha256-HtsXJanqjKTc8vVQjO4YMhiqFoXkfBsjBWcX91T1jr8=" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/3.1.1/animate.min.css" integrity="sha256-PR7ttpcvz8qrF57fur/yAx1qXMFJeJFiA6pSzWi0OIE=" crossorigin="anonymous">

<script class="next-config" data-name="main" type="application/json">{"hostname":"example.com","root":"/","images":"/images","scheme":"Pisces","darkmode":true,"version":"8.17.1","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12},"copycode":{"enable":true,"style":"mac"},"bookmark":{"enable":false,"color":"#222","save":"auto"},"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"stickytabs":false,"motion":{"enable":true,"async":false,"transition":{"menu_item":"fadeInDown","post_block":"fadeIn","post_header":"fadeInDown","post_body":"fadeInDown","coll_header":"fadeInLeft","sidebar":"fadeInUp"}},"prism":false,"i18n":{"placeholder":"Searching...","empty":"We didn't find any results for the search: ${query}","hits_time":"${hits} results found in ${time} ms","hits":"${hits} results found"},"path":"/search.json","localsearch":{"enable":true,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false}}</script><script src="/js/config.js"></script>

    <meta name="description" content="ğŸ“’RxSwift Iï¼šå¼€å§‹å­¦ä¹  RxSwift  ç¬¬ä¸€ç« ï¼šRxSwift ä»‹ç»RxSwiftæ˜¯ä¸€ä¸ªç»„åˆå¼‚æ­¥å’Œäº‹ä»¶é©±åŠ¨ç¼–ç¨‹çš„åº“ï¼Œé€šè¿‡ä½¿ç”¨å¯è§‚å¯Ÿåºåˆ—å’ŒåŠŸèƒ½æ ·å¼è¿ç®—ç¬¦æ¥ï¼Œä»è€Œå…è®¸é€šè¿‡è°ƒåº¦ç¨‹åºè¿›è¡Œå‚æ•°åŒ–æ‰§è¡Œã€‚ RxSwift åœ¨æœ¬è´¨ä¸Šç®€åŒ–äº†å¼€å‘å¼‚æ­¥ç¨‹åºï¼Œå…è®¸ä»£ç å¯¹æ–°æ•°æ®ä½œå‡ºååº”ï¼Œå¹¶ä»¥é¡ºåºå’Œå­¤ç«‹çš„æ–¹å¼å¤„ç†å®ƒã€‚ ä»‹ç»å¼‚æ­¥ç¼–ç¨‹ ä½¿ç”¨ Cocoa å’Œ UIKit å¼‚æ­¥çš„APIçš„é—®é¢˜åœ¨äºï¼šå¤æ‚çš„å¼‚æ­¥ä»£ç å˜å¾—éå¸¸éš¾">
<meta property="og:type" content="article">
<meta property="og:title" content="RxSwift Iï¼šå¼€å§‹å­¦ä¹  RxSwift">
<meta property="og:url" content="http://example.com/2018/05/18/RxSwift-I/index.html">
<meta property="og:site_name" content="Will&#39;s Blog">
<meta property="og:description" content="ğŸ“’RxSwift Iï¼šå¼€å§‹å­¦ä¹  RxSwift  ç¬¬ä¸€ç« ï¼šRxSwift ä»‹ç»RxSwiftæ˜¯ä¸€ä¸ªç»„åˆå¼‚æ­¥å’Œäº‹ä»¶é©±åŠ¨ç¼–ç¨‹çš„åº“ï¼Œé€šè¿‡ä½¿ç”¨å¯è§‚å¯Ÿåºåˆ—å’ŒåŠŸèƒ½æ ·å¼è¿ç®—ç¬¦æ¥ï¼Œä»è€Œå…è®¸é€šè¿‡è°ƒåº¦ç¨‹åºè¿›è¡Œå‚æ•°åŒ–æ‰§è¡Œã€‚ RxSwift åœ¨æœ¬è´¨ä¸Šç®€åŒ–äº†å¼€å‘å¼‚æ­¥ç¨‹åºï¼Œå…è®¸ä»£ç å¯¹æ–°æ•°æ®ä½œå‡ºååº”ï¼Œå¹¶ä»¥é¡ºåºå’Œå­¤ç«‹çš„æ–¹å¼å¤„ç†å®ƒã€‚ ä»‹ç»å¼‚æ­¥ç¼–ç¨‹ ä½¿ç”¨ Cocoa å’Œ UIKit å¼‚æ­¥çš„APIçš„é—®é¢˜åœ¨äºï¼šå¤æ‚çš„å¼‚æ­¥ä»£ç å˜å¾—éå¸¸éš¾">
<meta property="og:locale" content="en_US">
<meta property="og:image" content="https://gewill.org/assets/Rx_Logo_M.png">
<meta property="og:image" content="https://gewill.org/assets/51526546882_.pic.jpg">
<meta property="og:image" content="https://gewill.org/assets/61526549641_.pic_hd.jpg">
<meta property="og:image" content="https://gewill.org/assets/71526551674_.pic_hd.jpg">
<meta property="og:image" content="https://gewill.org/assets/81526552550_.pic.jpg">
<meta property="og:image" content="https://gewill.org/assets/101526552877_.pic.jpg">
<meta property="og:image" content="https://gewill.org/assets/141526623515_.pic.jpg">
<meta property="og:image" content="https://gewill.org/assets/151526623523_.pic.jpg">
<meta property="og:image" content="https://gewill.org/assets/RxSwiftPublishSubject.jpg">
<meta property="og:image" content="https://gewill.org/assets/RxSwiftBehaviorSubject.png">
<meta property="og:image" content="https://gewill.org/assets/Talkingtootherviewcontrollersviadelegate.jpg">
<meta property="og:image" content="https://gewill.org/assets/Talkingtootherviewcontrollersviasubjects.jpg">
<meta property="og:image" content="https://gewill.org/assets/single.jpg">
<meta property="og:image" content="https://gewill.org/assets/maybe.jpg">
<meta property="og:image" content="https://gewill.org/assets/completable.jpg">
<meta property="article:published_time" content="2018-05-18T15:01:03.000Z">
<meta property="article:modified_time" content="2025-01-13T03:01:04.065Z">
<meta property="article:author" content="Ge Will">
<meta property="article:tag" content="Swift">
<meta property="article:tag" content="RxSwift">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://gewill.org/assets/Rx_Logo_M.png">


<link rel="canonical" href="http://example.com/2018/05/18/RxSwift-I/">



<script class="next-config" data-name="page" type="application/json">{"sidebar":"","isHome":false,"isPost":true,"lang":"en","comments":true,"permalink":"http://example.com/2018/05/18/RxSwift-I/","path":"2018/05/18/RxSwift-I/","title":"RxSwift Iï¼šå¼€å§‹å­¦ä¹  RxSwift"}</script>

<script class="next-config" data-name="calendar" type="application/json">""</script>
<title>RxSwift Iï¼šå¼€å§‹å­¦ä¹  RxSwift | Will's Blog</title>
  







<head>
    <!-- éœé¹œæ–‡æ¥·å­—ä½“ -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/lxgw-wenkai-webfont@1.7.0/style.css"/>

    <!-- datapulseç»Ÿè®¡ -->
    <script defer type="text/javascript" src="https://datapulse.app/datapulse.min.js" id="datapulse" data-endpoint="https://datapulse.app/api/v1/event" data-workspace="cljxqml5q0y0f8j37d4futnbl"></script>

    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-DR0FC9YJLH"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag() {
            dataLayer.push(arguments);
        }
        gtag('js', new Date());

        gtag('config', 'G-DR0FC9YJLH');
    </script>
</head>
  <noscript>
    <link rel="stylesheet" href="/css/noscript.css">
  </noscript>
</head>

<body itemscope itemtype="http://schema.org/WebPage" class="use-motion">
  <div class="headband"></div>

  <main class="main">
    <div class="column">
      <header class="header" itemscope itemtype="http://schema.org/WPHeader"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="Toggle navigation bar" role="button">
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <i class="logo-line"></i>
      <p class="site-title">Will's Blog</p>
      <i class="logo-line"></i>
    </a>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger" aria-label="Search" role="button">
        <i class="fa fa-search fa-fw fa-lg"></i>
    </div>
  </div>
</div>



<nav class="site-nav">
  <ul class="main-menu menu"><li class="menu-item menu-item-home"><a href="/" rel="section"><i class="fa fa-home fa-fw"></i>Home</a></li><li class="menu-item menu-item-archives"><a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>Archives<span class="badge">198</span></a></li><li class="menu-item menu-item-about"><a href="/about/" rel="section"><i class="fa fa-user fa-fw"></i>About</a></li><li class="menu-item menu-item-tags"><a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>Tags<span class="badge">17</span></a></li><li class="menu-item menu-item-categories"><a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>Categories<span class="badge">1</span></a></li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>Search
        </a>
      </li>
  </ul>
</nav>



  <div class="search-pop-overlay">
    <div class="popup search-popup"><div class="search-header">
  <span class="search-icon">
    <i class="fa fa-search"></i>
  </span>
  <div class="search-input-container">
    <input autocomplete="off" autocapitalize="off" maxlength="80"
           placeholder="Searching..." spellcheck="false"
           type="search" class="search-input">
  </div>
  <span class="popup-btn-close" role="button">
    <i class="fa fa-times-circle"></i>
  </span>
</div>
<div class="search-result-container no-result">
  <div class="search-result-icon">
    <i class="fa fa-spinner fa-pulse fa-5x"></i>
  </div>
</div>

    </div>
  </div>

</header>
        
  
  <aside class="sidebar">

    <div class="sidebar-inner sidebar-nav-active sidebar-toc-active">
      <ul class="sidebar-nav">
        <li class="sidebar-nav-toc">
          Table of Contents
        </li>
        <li class="sidebar-nav-overview">
          Overview
        </li>
      </ul>

      <div class="sidebar-panel-container">
        <!--noindex-->
        <div class="post-toc-wrap sidebar-panel">
            <div class="post-toc animated"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#%F0%9F%93%92RxSwift-I%EF%BC%9A%E5%BC%80%E5%A7%8B%E5%AD%A6%E4%B9%A0-RxSwift"><span class="nav-number">1.</span> <span class="nav-text">ğŸ“’RxSwift Iï¼šå¼€å§‹å­¦ä¹  RxSwift</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E7%AC%AC%E4%B8%80%E7%AB%A0%EF%BC%9ARxSwift-%E4%BB%8B%E7%BB%8D"><span class="nav-number">1.1.</span> <span class="nav-text">ç¬¬ä¸€ç« ï¼šRxSwift ä»‹ç»</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E4%BB%8B%E7%BB%8D%E5%BC%82%E6%AD%A5%E7%BC%96%E7%A8%8B"><span class="nav-number">1.1.1.</span> <span class="nav-text">ä»‹ç»å¼‚æ­¥ç¼–ç¨‹</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#RxSwift-%E5%9F%BA%E7%A1%80"><span class="nav-number">1.1.2.</span> <span class="nav-text">RxSwift åŸºç¡€</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#App-architecture-%E5%BA%94%E7%94%A8%E7%9A%84%E6%9E%B6%E6%9E%84"><span class="nav-number">1.1.3.</span> <span class="nav-text">App architecture åº”ç”¨çš„æ¶æ„</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#RxCocoa"><span class="nav-number">1.1.4.</span> <span class="nav-text">RxCocoa</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%AE%89%E8%A3%85"><span class="nav-number">1.1.5.</span> <span class="nav-text">å®‰è£…</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#RxSwift-%E5%92%8C-Combine"><span class="nav-number">1.1.6.</span> <span class="nav-text">RxSwift å’Œ Combine</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%A4%BE%E5%8C%BA"><span class="nav-number">1.1.7.</span> <span class="nav-text">ç¤¾åŒº</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E7%AC%AC%E4%BA%8C%E7%AB%A0%EF%BC%9AObservables"><span class="nav-number">1.2.</span> <span class="nav-text">ç¬¬äºŒç« ï¼šObservables</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Observable-%E6%98%AF%E4%BB%80%E4%B9%88"><span class="nav-number">1.2.1.</span> <span class="nav-text">Observable æ˜¯ä»€ä¹ˆ</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Observable-%E7%9A%84%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F"><span class="nav-number">1.2.2.</span> <span class="nav-text">Observable çš„ç”Ÿå‘½å‘¨æœŸ</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%88%9B%E5%BB%BA-Observable"><span class="nav-number">1.2.3.</span> <span class="nav-text">åˆ›å»º Observable</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E8%AE%A2%E9%98%85-Observable"><span class="nav-number">1.2.4.</span> <span class="nav-text">è®¢é˜… Observable</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Disposing-%E5%92%8C-terminating"><span class="nav-number">1.2.5.</span> <span class="nav-text">Disposing å’Œ terminating</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%88%9B%E5%BB%BA-observable-%E5%B7%A5%E5%8E%82%E7%B1%BB"><span class="nav-number">1.2.6.</span> <span class="nav-text">åˆ›å»º observable å·¥å‚ç±»</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E4%BD%BF%E7%94%A8Traits"><span class="nav-number">1.2.7.</span> <span class="nav-text">ä½¿ç”¨Traits</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%89%AF%E4%BD%9C%E7%94%A8"><span class="nav-number">1.2.8.</span> <span class="nav-text">å‰¯ä½œç”¨</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%89%93%E5%8D%B0debug-%E4%BF%A1%E6%81%AF"><span class="nav-number">1.2.9.</span> <span class="nav-text">æ‰“å°debug ä¿¡æ¯</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E7%AC%AC%E4%B8%89%E7%AB%A0%EF%BC%9ASubjects"><span class="nav-number">1.3.</span> <span class="nav-text">ç¬¬ä¸‰ç« ï¼šSubjects</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Subject-%E6%98%AF%E4%BB%80%E4%B9%88"><span class="nav-number">1.3.1.</span> <span class="nav-text">Subject æ˜¯ä»€ä¹ˆ</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#PublishSubject"><span class="nav-number">1.3.2.</span> <span class="nav-text">PublishSubject</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#ReplaySubject"><span class="nav-number">1.3.3.</span> <span class="nav-text">ReplaySubject</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#BehaviorSubject"><span class="nav-number">1.3.4.</span> <span class="nav-text">BehaviorSubject</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Relay"><span class="nav-number">1.3.5.</span> <span class="nav-text">Relay</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E7%AC%AC%E5%9B%9B%E7%AB%A0%EF%BC%9AObservables-%E5%92%8C-Subjects-%E5%AE%9E%E8%B7%B5"><span class="nav-number">1.4.</span> <span class="nav-text">ç¬¬å››ç« ï¼šObservables å’Œ Subjects å®è·µ</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%9C%A8-view-controller-%E4%B8%AD%E4%BD%BF%E7%94%A8-subject-x2F-relay"><span class="nav-number">1.4.1.</span> <span class="nav-text">åœ¨ view controller ä¸­ä½¿ç”¨ subject&#x2F;relay</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E4%BD%BF%E7%94%A8-subject-%E5%9C%A8-view-controller-%E4%B9%8B%E9%97%B4%E4%BC%A0%E5%80%BC"><span class="nav-number">1.4.2.</span> <span class="nav-text">ä½¿ç”¨ subject åœ¨ view controller ä¹‹é—´ä¼ å€¼</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%B0%81%E8%A3%85%E5%B7%B2%E6%9C%89API%E4%B8%BAObservable"><span class="nav-number">1.4.3.</span> <span class="nav-text">å°è£…å·²æœ‰APIä¸ºObservable</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#RxSwift-traits-%E5%AE%9E%E8%B7%B5"><span class="nav-number">1.4.4.</span> <span class="nav-text">RxSwift traits å®è·µ</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#Single"><span class="nav-number">1.4.4.1.</span> <span class="nav-text">Single</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Maybe"><span class="nav-number">1.4.4.2.</span> <span class="nav-text">Maybe</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Completable"><span class="nav-number">1.4.4.3.</span> <span class="nav-text">Completable</span></a></li></ol></li></ol></li></ol></li></ol></div>
        </div>
        <!--/noindex-->

        <div class="site-overview-wrap sidebar-panel">
          <div class="site-author animated" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="Ge Will"
      src="/images/avatar.jpeg">
  <p class="site-author-name" itemprop="name">Ge Will</p>
  <div class="site-description" itemprop="description">The people who are crazy enough to think they can change the world, are the ones who DO.</div>
</div>
<div class="site-state-wrap animated">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
        <a href="/archives/">
          <span class="site-state-item-count">198</span>
          <span class="site-state-item-name">posts</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
          <a href="/categories/">
        <span class="site-state-item-count">1</span>
        <span class="site-state-item-name">categories</span></a>
      </div>
      <div class="site-state-item site-state-tags">
          <a href="/tags/">
        <span class="site-state-item-count">17</span>
        <span class="site-state-item-name">tags</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author animated">
      <span class="links-of-author-item">
        <a href="https://github.com/gewill" title="GitHub â†’ https:&#x2F;&#x2F;github.com&#x2F;gewill" rel="noopener me" target="_blank"><i class="fab fa-github fa-fw"></i>GitHub</a>
      </span>
      <span class="links-of-author-item">
        <a href="mailto:531sunlight@gmail.com" title="E-Mail â†’ mailto:531sunlight@gmail.com" rel="noopener me" target="_blank"><i class="fa fa-envelope fa-fw"></i>E-Mail</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://weibo.com/gewei" title="Weibo â†’ https:&#x2F;&#x2F;weibo.com&#x2F;gewei" rel="noopener me" target="_blank"><i class="fab fa-weibo fa-fw"></i>Weibo</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://twitter.com/BoJack_D" title="Twitter â†’ https:&#x2F;&#x2F;twitter.com&#x2F;BoJack_D" rel="noopener me" target="_blank"><i class="fab fa-twitter fa-fw"></i>Twitter</a>
      </span>
  </div>

        </div>
      </div>
    </div>

    
  </aside>


    </div>

    <div class="main-inner post posts-expand">


  


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="en">
    <link itemprop="mainEntityOfPage" href="http://example.com/2018/05/18/RxSwift-I/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.jpeg">
      <meta itemprop="name" content="Ge Will">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Will's Blog">
      <meta itemprop="description" content="The people who are crazy enough to think they can change the world, are the ones who DO.">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="RxSwift Iï¼šå¼€å§‹å­¦ä¹  RxSwift | Will's Blog">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          RxSwift Iï¼šå¼€å§‹å­¦ä¹  RxSwift
        </h1>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2018-05-18 23:01:03" itemprop="dateCreated datePublished" datetime="2018-05-18T23:01:03+08:00">2018-05-18</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">Edited on</span>
      <time title="Modified: 2025-01-13 11:01:04" itemprop="dateModified" datetime="2025-01-13T11:01:04+08:00">2025-01-13</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">In</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/RxSwift/" itemprop="url" rel="index"><span itemprop="name">RxSwift</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody"><h1 id="ğŸ“’RxSwift-Iï¼šå¼€å§‹å­¦ä¹ -RxSwift"><a href="#ğŸ“’RxSwift-Iï¼šå¼€å§‹å­¦ä¹ -RxSwift" class="headerlink" title="ğŸ“’RxSwift Iï¼šå¼€å§‹å­¦ä¹  RxSwift"></a>ğŸ“’<strong>RxSwift</strong> Iï¼šå¼€å§‹å­¦ä¹  RxSwift</h1><p> <img src="https://gewill.org/assets/Rx_Logo_M.png" alt="Rx_Logo_M.png"></p>
<h2 id="ç¬¬ä¸€ç« ï¼šRxSwift-ä»‹ç»"><a href="#ç¬¬ä¸€ç« ï¼šRxSwift-ä»‹ç»" class="headerlink" title="ç¬¬ä¸€ç« ï¼šRxSwift ä»‹ç»"></a>ç¬¬ä¸€ç« ï¼šRxSwift ä»‹ç»</h2><p>RxSwiftæ˜¯ä¸€ä¸ªç»„åˆå¼‚æ­¥å’Œäº‹ä»¶é©±åŠ¨ç¼–ç¨‹çš„åº“ï¼Œé€šè¿‡ä½¿ç”¨å¯è§‚å¯Ÿåºåˆ—å’ŒåŠŸèƒ½æ ·å¼è¿ç®—ç¬¦æ¥ï¼Œä»è€Œå…è®¸é€šè¿‡è°ƒåº¦ç¨‹åºè¿›è¡Œå‚æ•°åŒ–æ‰§è¡Œã€‚</p>
<p>RxSwift åœ¨æœ¬è´¨ä¸Šç®€åŒ–äº†å¼€å‘å¼‚æ­¥ç¨‹åºï¼Œå…è®¸ä»£ç å¯¹æ–°æ•°æ®ä½œå‡ºååº”ï¼Œå¹¶ä»¥é¡ºåºå’Œå­¤ç«‹çš„æ–¹å¼å¤„ç†å®ƒã€‚</p>
<h3 id="ä»‹ç»å¼‚æ­¥ç¼–ç¨‹"><a href="#ä»‹ç»å¼‚æ­¥ç¼–ç¨‹" class="headerlink" title="ä»‹ç»å¼‚æ­¥ç¼–ç¨‹"></a>ä»‹ç»å¼‚æ­¥ç¼–ç¨‹</h3><p><img src="https://gewill.org/assets/51526546882_.pic.jpg" alt="51526546882_.pic.jpg"></p>
<p>ä½¿ç”¨ Cocoa å’Œ UIKit å¼‚æ­¥çš„APIçš„é—®é¢˜åœ¨äºï¼šå¤æ‚çš„å¼‚æ­¥ä»£ç å˜å¾—éå¸¸éš¾å†™ï¼Œéƒ¨åˆ†åŸå› æ˜¯è‹¹æœSDKæä¾›çš„APIç§ç±»ç¹å¤šã€‚å¦‚NotificationCenterã€Delegateã€GCDã€é—­åŒ…ã€Combineã€‚</p>
<p>å¼‚æ­¥ç¼–ç¨‹è¯æ±‡è¡¨ï¼š</p>
<ol>
<li>çŠ¶æ€ï¼ˆStateï¼‰ï¼Œå…·ä½“åœ°è¯´ï¼šå…±äº«å¯å˜çŠ¶æ€</li>
<li>å‘½ä»¤å¼ç¼–ç¨‹ï¼ˆImperative programmingï¼‰</li>
<li>å‰¯ä½œç”¨ï¼ˆSide effectsï¼‰</li>
<li>å£°æ˜å¼ç¼–ç¨‹ï¼ˆDeclarative codeï¼‰ï¼šå£°æ˜å¼ä»£ç è®©æ‚¨å¯ä»¥å®šä¹‰è¡Œä¸ºç‰‡æ®µã€‚åªè¦æœ‰ç›¸å…³äº‹ä»¶å‘ç”Ÿï¼ŒRxSwift å°±ä¼šè¿è¡Œè¿™äº›è¡Œä¸ºï¼Œå¹¶æä¾›ä¸€ä¸ªä¸å¯å˜çš„ã€å­¤ç«‹çš„æ•°æ®ç‰‡æ®µæ¥å¤„ç†ã€‚è¿™æ ·ï¼Œæ‚¨å¯ä»¥ä½¿ç”¨å¼‚æ­¥ä»£ç ï¼Œä½†åšå‡ºä¸ç®€å• for å¾ªç¯ç›¸åŒçš„å‡è®¾ï¼šæ‚¨æ­£åœ¨ä½¿ç”¨ä¸å¯å˜æ•°æ®å¹¶ä¸”å¯ä»¥ä»¥é¡ºåºã€ç¡®å®šçš„æ–¹å¼æ‰§è¡Œä»£ç ã€‚</li>
<li>å“åº”å¼ç³»ç»Ÿï¼ˆReactive systemsï¼‰</li>
</ol>
<p>å“åº”å¼ç³»ç»Ÿï¼ˆReactive systemsï¼‰æ˜¯ä¸€ä¸ªç›¸å½“æŠ½è±¡çš„æœ¯è¯­ï¼Œå®ƒæ¶µç›–äº†Webæˆ–iOSåº”ç”¨ç¨‹åºï¼Œå®ƒä»¬æ˜¾ç¤ºäº†å¤§å¤šæ•°æˆ–å…¨éƒ¨ä»¥ä¸‹ç‰¹æ€§ï¼š</p>
<ul>
<li>å“åº”å¼è®¾è®¡ï¼ˆResponsiveï¼‰ï¼šå§‹ç»ˆä¿æŒUIæ›´æ–°ï¼Œä»£è¡¨äº†æœ€æ–°çš„åº”ç”¨ç¨‹åºçŠ¶æ€ã€‚</li>
<li>èƒ½å¤åŸçš„ï¼ˆResilientï¼‰ï¼šæ¯ä¸ªè¡Œä¸ºéƒ½æ˜¯ç‹¬ç«‹å®šä¹‰çš„ï¼Œå¹¶æä¾›çµæ´»çš„é”™è¯¯æ¢å¤ã€‚</li>
<li>çµæ´»çš„ï¼ˆElasticï¼‰: è¯¥ä»£ç å¤„ç†ä¸åŒçš„å·¥ä½œè´Ÿè½½ï¼Œé€šå¸¸å®ç°è¯¸å¦‚æ‡’æƒ°é©±åŠ¨æ•°æ®æ”¶é›†ã€äº‹ä»¶èŠ‚æµå’Œèµ„æºå…±äº«ç­‰ç‰¹æ€§ã€‚</li>
<li>æ¶ˆæ¯é©±åŠ¨ï¼ˆMessage drivenï¼‰ï¼šç»„ä»¶ä½¿ç”¨åŸºäºæ¶ˆæ¯çš„é€šä¿¡æ¥æé«˜å¯é‡ç”¨æ€§å’Œéš”ç¦»æ€§ï¼Œè§£è€¦ç±»çš„ç”Ÿå‘½å‘¨æœŸå’Œå®ç°ã€‚</li>
</ul>
<h3 id="RxSwift-åŸºç¡€"><a href="#RxSwift-åŸºç¡€" class="headerlink" title="RxSwift åŸºç¡€"></a>RxSwift åŸºç¡€</h3><p><img src="https://gewill.org/assets/61526549641_.pic_hd.jpg" alt="61526549641_.pic_hd.jpg"></p>
<p>è¿™ä¸ªæ ‡å¿—æ˜¯ä¸€åªç”µé³—ã€‚(Rx é¡¹ç›®æ›¾ç»è¢«ç§°ä¸ºVoltaï¼‰</p>
<p>RxSwift æ˜¯å¾®è½¯å¼€æºçš„ ReactiveX çš„Swiftè¯­è¨€çš„å®ç°ã€‚</p>
<p><strong>RxSwift</strong> åœ¨ä¼ ç»Ÿçš„<strong>Cocoa</strong>ç¼–ç¨‹å’Œçº¯å‡½æ•°ç¼–ç¨‹ä¹‹é—´æ‰¾åˆ°äº†æœ€ä½³ä½ç½®ã€‚å®ƒå…è®¸æ‚¨å¯¹äº‹ä»¶ä½œå‡ºååº”, æ–¹æ³•æ˜¯ä½¿ç”¨ä¸å¯å˜çš„ä»£ç å®šä¹‰ä»¥ç¡®å®šæ€§çš„ã€å¯ç»„åˆçš„æ–¹å¼å¤„ç†å¼‚æ­¥è¾“å…¥éƒ¨åˆ†ã€‚</p>
<p>Rxä»£ç çš„ä¸‰ä¸ªç»„æˆéƒ¨åˆ†æ˜¯ <code>Observable</code>, <code>Operator</code>å’Œ <code>Scheduler</code>ã€‚</p>
<p><code>Observable&lt;Element&gt;</code>ç±»æä¾›äº†Rxä»£ç çš„åŸºç¡€ï¼šå¼‚æ­¥äº§ç”Ÿä¸€ç³»åˆ—äº‹ä»¶çš„èƒ½åŠ›ï¼Œå®ƒå¯ä»¥â€œæºå¸¦â€æ•°æ®çš„ä¸å¯å˜å¿«ç…§ã€‚ç®€å•æ¥è¯´ï¼Œå®ƒå…è®¸ç±»åœ¨ä¸€æ®µæ—¶é—´å†…è®¢é˜…å…¶ä»–ç±»å‘å‡ºçš„å€¼ã€‚</p>
<p><code>ObservableType</code> åè®® (<code>Observable</code>éœ€è¦éµå¾ªçš„) éå¸¸ç®€å•ã€‚<code>Observable</code>å¯èƒ½å‘å‡º (å¹¶ä¸”<code>Observer</code>èƒ½æ¥å—) ä»…ä¸‰ç±»å‹äº‹ä»¶:</p>
<p>- next ä¸‹ä¸€ä¸ªäº‹ä»¶: â€œæºå¸¦â€ æœ€æ–° (æˆ–  â€œä¸‹ä¸€ä¸ª â€œ) æ•°æ®å€¼çš„äº‹ä»¶ã€‚è¿™æ˜¯<code>Observer</code> â€œæ¥æ”¶â€ å€¼çš„æ–¹å¼ã€‚</p>
<p>- completed å·²å®Œæˆçš„äº‹ä»¶: æ­¤äº‹ä»¶ä»¥æˆåŠŸç»ˆæ­¢äº‹ä»¶åºåˆ—ã€‚è¿™æ„å‘³ç€<code>Observable</code>å®Œæˆå…¶ç”Ÿå‘½å‘¨æœŸæˆåŠŸ, ä¸ä¼šå‘å‡ºä»»ä½•å…¶ä»–äº‹ä»¶ã€‚</p>
<p>- error é”™è¯¯äº‹ä»¶: <code>Observable</code>ç»ˆæ­¢å¸¦æœ‰é”™è¯¯, ä¸ä¼šå‘å‡ºå…¶ä»–äº‹ä»¶.</p>
<p>ä¸¤ç§ä¸åŒçš„å¯è§‚æµ‹åºåˆ—: æœ‰é™å’Œæ— é™çš„ã€‚</p>
<p>ç”±äºå®ƒä»¬æ˜¯é«˜åº¦è§£è€¦å’Œå¯ç»„åˆçš„, æ‰€ä»¥è¿™äº›æ–¹æ³•é€šå¸¸ç§°ä¸º<code>Operator</code>ã€‚æ¯”å¦‚filterã€‚</p>
<p><code>Operator</code>ä¹Ÿæ˜¯é«˜åº¦å¯ç»„åˆçš„ï¼Œå®ƒä»¬æ€»æ˜¯æŠŠæ•°æ®ä½œä¸ºè¾“å…¥å¹¶è¾“å‡ºå®ƒä»¬çš„ç»“æœï¼Œæ‰€ä»¥ä½ å¯ä»¥ç”¨è®¸å¤šä¸åŒçš„æ–¹å¼è½»æ¾åœ°å°†å®ƒä»¬è¿æ¥èµ·æ¥ï¼Œå®ç°æ¯”å•ä¸ª<code>Operator</code>è‡ªå·±èƒ½åšçš„æ›´å¤šçš„äº‹æƒ…ã€‚</p>
<p> <code>Scheduler</code>æ˜¯<a target="_blank" rel="noopener" href="https://developer.apple.com/documentation/DISPATCH">GCD</a>å’Œ<a target="_blank" rel="noopener" href="https://developer.apple.com/documentation/foundation/operationqueue">OperationQueue</a>çš„Rxç­‰ä»·ç‰©ã€‚</p>
<p>RxSwiftå°†å……å½“ä½ çš„è®¢é˜…ï¼ˆåœ¨å·¦è¾¹ï¼‰å’Œ<code>Scheduler</code>ï¼ˆåœ¨å³è¾¹ï¼‰ä¹‹é—´çš„è°ƒåº¦å™¨ï¼Œå°†å·¥ä»¶å‘é€åˆ°æ­£ç¡®çš„ä¸Šä¸‹æ–‡ï¼Œå¹¶æ— ç¼åœ°å…è®¸å®ƒä»¬ä¸å½¼æ­¤çš„è¾“å‡ºä¸€èµ·å·¥ä½œã€‚</p>
<p><img src="https://gewill.org/assets/71526551674_.pic_hd.jpg" alt="71526551674_.pic_hd.jpg"></p>
<p>è¦è¯»å–æ­¤å…³ç³»å›¾, è¯·åœ¨ä¸åŒçš„è®¡åˆ’ç¨‹åºä¸­æŒ‰é¢„å®šçš„é¡ºåº (1ã€2ã€3ã€â€¦) æ¥æ‰§è¡Œå½©è‰²ä½œå“ã€‚ä¾‹å¦‚:</p>
<p>Â·è“è‰²ç½‘ç»œè®¢é˜…ä»¥åœ¨åŸºäºè‡ªå®šä¹‰ NSOperation çš„è®¡åˆ’ç¨‹åºä¸Šè¿è¡Œçš„ä¸€æ®µä»£ç  (1) å¼€å§‹ã€‚</p>
<p>Â·æ•°æ®è¾“å‡ºå—ä½œä¸ºä¸‹ä¸€ä¸ªå— (2) çš„è¾“å…¥, å®ƒè¿è¡Œåœ¨ä¸€ä¸ªä¸åŒçš„è°ƒåº¦ç¨‹åºä¸Š, å®ƒä½äºå¹¶å‘åå° GCD é˜Ÿåˆ—ä¸­ã€‚</p>
<p>Â·æœ€å, åœ¨ä¸»çº¿ç¨‹è°ƒåº¦ç¨‹åºä¸Šè®¡åˆ’æœ€åä¸€å—è“è‰²ä»£ç  (3), ä»¥ä¾¿ç”¨æ–°æ•°æ®æ›´æ–° UIã€‚</p>
<h3 id="App-architecture-åº”ç”¨çš„æ¶æ„"><a href="#App-architecture-åº”ç”¨çš„æ¶æ„" class="headerlink" title="App architecture åº”ç”¨çš„æ¶æ„"></a>App architecture åº”ç”¨çš„æ¶æ„</h3><p>å€¼å¾—ä¸€æçš„æ˜¯ï¼ŒRxSwiftå¹¶æ²¡æœ‰ä»¥ä»»ä½•æ–¹å¼æ”¹å˜åº”ç”¨ç¨‹åºçš„æ¶æ„ï¼›å®ƒä¸»è¦å¤„ç†äº‹ä»¶ã€å¼‚æ­¥æ•°æ®åºåˆ—å’Œé€šç”¨é€šä¿¡åè®®ã€‚</p>
<p>é€šè¿‡åœ¨è‹¹æœå¼€å‘æ–‡æ¡£ä¸­å®ç°MVCä½“ç³»ç»“æ„ï¼Œå¯ä»¥åˆ›å»ºå…·æœ‰Rxçš„åº”ç”¨ç¨‹åºã€‚å¦‚æœä½ å–œæ¬¢çš„è¯ï¼Œä½ ä¹Ÿå¯ä»¥é€‰æ‹©å®ç°MVPæ¶æ„æˆ–MVVMã€‚RxSwiftä¹Ÿå¯ä»¥å¸®ä½ å®ç°è‡ªå·±çš„å•å‘æ•°æ®æ¶æ„ã€‚</p>
<p>å¾®è½¯çš„MVVMæ¶æ„æ˜¯ä¸“é—¨é’ˆå¯¹åœ¨å¹³å°ä¸Šåˆ›å»ºçš„äº‹ä»¶é©±åŠ¨è½¯ä»¶å¼€å‘çš„ï¼Œè¯¥å¹³å°æä¾›æ•°æ®ç»‘å®šã€‚RxSwiftå’ŒMVVMå¾ˆå¥½åœ°ç»“åˆåœ¨ä¸€èµ·ï¼Œåœ¨è¿™æœ¬ä¹¦çš„æœ«å°¾ï¼Œä½ ä¼šçœ‹åˆ°è¿™ä¸ªæ¨¡å¼ä»¥åŠå¦‚ä½•ç”¨RxSwiftæ¥å®ç°å®ƒã€‚</p>
<p>MVVMå’ŒRxSwiftç»“åˆåœ¨ä¸€èµ·çš„åŸå› æ˜¯ï¼ŒViewModelå…è®¸æ‚¨å…¬å¼€<code>Observable</code>å±æ€§ï¼Œè¿™äº›å±æ€§å¯ä»¥ç›´æ¥ç»‘å®šåˆ°View Controller ä»£ç ä¸­çš„UIKitæ§ä»¶ã€‚è¿™ä½¿å¾—ç»‘å®šæ¨¡å‹æ•°æ®åˆ°UIéå¸¸ç®€å•åœ°å±•ç¤ºå’Œç¼–ç ï¼š</p>
<p><img src="https://gewill.org/assets/81526552550_.pic.jpg" alt="81526552550_.pic.jpg"></p>
<p>æœ¬ä¹¦ä¸­çš„æ‰€æœ‰å…¶ä»–ç¤ºä¾‹éƒ½ä½¿ç”¨MVCæ¶æ„æ¥ä¿æŒç¤ºä¾‹ä»£ç ç®€å•æ˜“æ‡‚ã€‚</p>
<h3 id="RxCocoa"><a href="#RxCocoa" class="headerlink" title="RxCocoa"></a>RxCocoa</h3><p>RxSwiftæ˜¯é€šç”¨Rx APIçš„å®ç°ã€‚å› æ­¤ï¼Œå®ƒä¸æ¶‰åŠä»»ä½•Cocoaæˆ–UIKitç±»ã€‚</p>
<p>RxCocoaæ˜¯RxSwiftçš„é…å¥—åº“ï¼Œæ‰€æœ‰çš„ç±»éƒ½æœ‰åŠ©äºUIKitå’ŒCocoaçš„å¼€å‘ã€‚é™¤äº†å…·æœ‰ä¸€äº›é«˜çº§ç±»ä¹‹å¤–ï¼ŒRxCocoaè¿˜ä¸ºè®¸å¤šUIç»„ä»¶æ·»åŠ äº†å“åº”å¼æ‰©å±•ï¼Œä»¥ä¾¿æ‚¨å¯ä»¥è®¢é˜…ä¸åŒçš„UIäº‹ä»¶ã€‚</p>
<p>ä¾‹å¦‚ï¼Œä½¿ç”¨RxCocoaè®¢é˜…UISwitchçš„çŠ¶æ€å˜åŒ–æ˜¯éå¸¸å®¹æ˜“çš„ï¼Œä¾‹å¦‚ï¼š</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">toggleSwitch.rx.isOn</span><br><span class="line">	.subcribe(onNext: &#123;enabled <span class="keyword">in</span></span><br><span class="line">    	<span class="built_in">print</span>(enabled <span class="operator">?</span> <span class="string">&quot;it&#x27;s ON&quot;</span> : <span class="string">&quot;it&#x27;s OFF&quot;</span>)</span><br><span class="line">	&#125;)</span><br></pre></td></tr></table></figure>

<p>RxCocoa adds the rx.isOn property (among others) to the UISwitch class so you can subscribe to generally useful event sequences.</p>
<p>RxCocoaå°†rx.isOnå±æ€§ï¼ˆå…¶ä¸­ä¹‹ä¸€ï¼‰æ·»åŠ åˆ°UISwitchç±»ï¼Œè¿™æ ·æ‚¨å°±å¯ä»¥è®¢é˜…é€šå¸¸æœ‰ç”¨çš„<code>Observable</code>åºåˆ—ã€‚</p>
<p><img src="https://gewill.org/assets/101526552877_.pic.jpg" alt="101526552877_.pic.jpg"></p>
<h3 id="å®‰è£…"><a href="#å®‰è£…" class="headerlink" title="å®‰è£…"></a>å®‰è£…</h3><p>å®˜æ–¹gitï¼š<a target="_blank" rel="noopener" href="https://github.com/ReactiveX/RxSwift">https://github.com/ReactiveX/RxSwift</a></p>
<p>ä½¿ç”¨ <a target="_blank" rel="noopener" href="https://guides.cocoapods.org/using/using-cocoapods.html">CocoaPods</a> ã€ <a target="_blank" rel="noopener" href="https://github.com/Carthage/Carthage">Carthage</a> å’Œ <a target="_blank" rel="noopener" href="https://github.com/apple/swift-package-manager">Swift Package Manager</a> å‡å¾ˆæ–¹ä¾¿é›†æˆRxSwiftã€‚</p>
<h3 id="RxSwift-å’Œ-Combine"><a href="#RxSwift-å’Œ-Combine" class="headerlink" title="RxSwift å’Œ Combine"></a>RxSwift å’Œ Combine</h3><p>RxSwift å’Œ Combineï¼ˆä»¥åŠ Swift ä¸­çš„å…¶ä»–ç›¸åº”å¼ç¼–ç¨‹æ¡†æ¶ï¼‰å…±äº«è®¸å¤šé€šç”¨è¯­è¨€å’Œéå¸¸ç›¸ä¼¼çš„æ¦‚å¿µã€‚</p>
<p>RxSwiftæ˜¯ä¸€ä¸ªè¾ƒæ—§çš„ï¼Œå®Œå–„çš„æ¡†æ¶ï¼Œå…·æœ‰ä¸€äº›è‡ªå·±çš„åŸå§‹æ¦‚å¿µï¼Œè¿ç®—ç¬¦åç§°å’Œç±»å‹å¤šæ ·æ€§ï¼Œè¿™ä¸»è¦æ˜¯ç”±äºå…¶å¤šå¹³å°è·¨è¯­è¨€æ ‡å‡†ï¼Œè¯¥æ ‡å‡†ä¹Ÿé€‚ç”¨äºLinuxï¼Œè¿™å¯¹äºServer-Side Swiftéå¸¸æœ‰ç”¨ã€‚å®ƒä¹Ÿæ˜¯å¼€æºçš„ï¼Œæ‰€ä»¥å¦‚æœä½ æ„¿æ„ï¼Œä½ å¯ä»¥ç›´æ¥ä¸ºå…¶æ ¸å¿ƒåšå‡ºè´¡çŒ®ï¼Œå¹¶ç¡®åˆ‡åœ°çœ‹åˆ°å®ƒçš„ç‰¹å®šéƒ¨åˆ†æ˜¯å¦‚ä½•å·¥ä½œçš„ã€‚å®ƒä¸æ‰€æœ‰æ”¯æŒ Swift çš„ Apple å¹³å°ç‰ˆæœ¬å…¼å®¹ï¼Œä¸€ç›´æ”¯æŒ iOS 8ã€‚</p>
<p>Combine æ˜¯ Apple æ–°çš„ã€é—ªäº®çš„æ¡†æ¶ï¼Œæ¶µç›–äº†ç±»ä¼¼çš„æ¦‚å¿µï¼Œä½†ä¸“é—¨é’ˆå¯¹ Swift å’Œ Apple è‡ªå·±çš„å¹³å°é‡èº«å®šåˆ¶ã€‚å®ƒä¸ Swift æ ‡å‡†åº“å…±äº«è®¸å¤šé€šç”¨è¯­è¨€ï¼Œå› æ­¤å³ä½¿æ–°æ‰‹ä¹Ÿè§‰å¾— API éå¸¸ç†Ÿæ‚‰ã€‚å®ƒä»…æ”¯æŒä»iOS 13ï¼ŒmacOS 10.15ç­‰å¼€å§‹çš„è¾ƒæ–°çš„Appleå¹³å°ã€‚ä¸å¹¸çš„æ˜¯ï¼Œæˆªè‡³ä»Šå¤©ï¼Œå®ƒè¿˜æ²¡æœ‰å¼€æºï¼Œå¹¶ä¸”ä¸æ”¯æŒLinuxã€‚</p>
<p>å¹¸è¿çš„æ˜¯ï¼Œç”±äº RxSwift å’Œ Combine éå¸¸ç›¸ä¼¼ï¼Œå› æ­¤æ‚¨çš„ RxSwift çŸ¥è¯†å¯ä»¥è½»æ¾è½¬ç§»åˆ° Combineï¼Œåä¹‹äº¦ç„¶ã€‚RxCombineï¼ˆ<a target="_blank" rel="noopener" href="https://github.com/CombineCommunity/RxCombine%EF%BC%89%E7%AD%89%E9%A1%B9%E7%9B%AE%E5%85%81%E8%AE%B8%E6%82%A8%E6%A0%B9%E6%8D%AE%E9%9C%80%E8%A6%81%E6%B7%B7%E5%90%88%E6%90%AD%E9%85%8D">https://github.com/CombineCommunity/RxCombineï¼‰ç­‰é¡¹ç›®å…è®¸æ‚¨æ ¹æ®éœ€è¦æ··åˆæ­é…</a> RxSwift Observables å’Œ Combine Publishersã€‚</p>
<p><a target="_blank" rel="noopener" href="https://github.com/ReactiveX/RxSwift/releases/tag/6.5.0">RxSwift 6.5.0</a> ä¹Ÿè¿æ¥äº† Swift Concurrency çš„æ”¯æŒã€‚æä¾›äº†äº’æ“ä½œæ€§ï¼š</p>
<ol>
<li><code>await  </code> è°ƒç”¨<code>Observable</code>çš„<code>values</code></li>
<li>å°è£… <code>async</code> Task ä¸º <code>Observable</code></li>
</ol>
<h3 id="ç¤¾åŒº"><a href="#ç¤¾åŒº" class="headerlink" title="ç¤¾åŒº"></a>ç¤¾åŒº</h3><p>RxSwiftç¤¾åŒºéå¸¸å‹å¥½ï¼Œæ€æƒ³å¼€æ”¾ï¼Œå¹¶ä¸”çƒ­è¡·äºè®¨è®ºæ¨¡å¼ï¼Œå¸¸ç”¨æŠ€å·§æˆ–äº’ç›¸å¸®åŠ©ã€‚</p>
<p>æ›´å¤šçš„Rxåº“å’Œå®éªŒï¼Œåƒé›¨åæ˜¥ç¬‹ä¸€æ ·çš„æ¶Œç°ï¼Œå¯ä»¥åœ¨è¿™é‡Œæ‰¾åˆ°ï¼š<a target="_blank" rel="noopener" href="https://github.com/RxSwiftCommunity">https://github.com/RxSwiftCommunity</a></p>
<p>å¯èƒ½æœ€å¥½çš„æ–¹å¼æ¥æ»¡è¶³è®¸å¤šå¯¹RxSwiftæ„Ÿå…´è¶£çš„äººï¼Œè¿™æ˜¯Slackçš„é¢‘é“ï¼š<a target="_blank" rel="noopener" href="http://rxswift-slack.herokuapp.com/">http://rxswift-slack.herokuapp.com</a>ã€‚</p>
<p>Slacké¢‘é“æ‹¥æœ‰çº¦5000åæˆå‘˜ï¼ æ—¥å¸¸çš„ä¸»é¢˜åŒ…æ‹¬ï¼šäº’ç›¸å¸®åŠ©ï¼Œè®¨è®ºRxSwiftæˆ–å…¶åŒä¼´åº“çš„æ½œåœ¨æ–°åŠŸèƒ½ï¼Œä»¥åŠå…±äº«RxSwiftåšå®¢æ–‡ç« å’Œä¼šè®®è®²åº§ã€‚</p>
<h2 id="ç¬¬äºŒç« ï¼šObservables"><a href="#ç¬¬äºŒç« ï¼šObservables" class="headerlink" title="ç¬¬äºŒç« ï¼šObservables"></a>ç¬¬äºŒç« ï¼šObservables</h2><h3 id="Observable-æ˜¯ä»€ä¹ˆ"><a href="#Observable-æ˜¯ä»€ä¹ˆ" class="headerlink" title="Observable æ˜¯ä»€ä¹ˆ"></a>Observable æ˜¯ä»€ä¹ˆ</h3><p>Observableã€observable sequence å’Œ sequence åœ¨ Rx éƒ½æ˜¯ä¸€ä¸ªæ„æ€ã€‚æˆ–è€…åœ¨å…¶ä»–Rxå®ç°ä¸­ç§°ä¹‹ä¸ºstreamã€‚</p>
<blockquote>
<p>æœ€å¥½ç§°ä¹‹ä¸º Observableï¼Œä¸è¿‡ç¿»è¯‘è¿‡æ¥è¿˜æ˜¯åºåˆ—é¡ºå£äº›ã€‚</p>
</blockquote>
<h3 id="Observable-çš„ç”Ÿå‘½å‘¨æœŸ"><a href="#Observable-çš„ç”Ÿå‘½å‘¨æœŸ" class="headerlink" title="Observable çš„ç”Ÿå‘½å‘¨æœŸ"></a>Observable çš„ç”Ÿå‘½å‘¨æœŸ</h3><ul>
<li>observableå‘å‡ºåŒ…å«å…ƒç´ çš„<strong>next</strong>äº‹ä»¶ã€‚ å®ƒå¯ä»¥ç»§ç»­è¿™æ ·åšï¼Œç›´åˆ°å®ƒï¼š</li>
<li>â€¦å‘å‡º<strong>error</strong>äº‹ä»¶å¹¶ç»ˆæ­¢ï¼Œæˆ–</li>
<li>â€¦å‘å‡º<strong>completed</strong>äº‹ä»¶å¹¶ç»ˆæ­¢ã€‚</li>
<li>ä¸€æ—¦observableè¢«ç»ˆæ­¢ï¼Œå®ƒä¸èƒ½å†å‘å‡ºäº‹ä»¶ã€‚</li>
</ul>
<p>å°†è¿™ç§æ¦‚å¿µåŒ–çš„æœ€ä½³æ–¹æ³•ä¹‹ä¸€æ˜¯ä½¿ç”¨å¼¹ç å›¾ï¼ˆ<strong>Marble Diagrams</strong> åŸºäºæ—¶é—´è½´ä¸Šç»˜åˆ¶çš„å€¼ï¼‰ã€‚</p>
<p><img src="https://gewill.org/assets/141526623515_.pic.jpg" alt="141526623515_.pic.jpg"></p>
<p><img src="https://gewill.org/assets/151526623523_.pic.jpg" alt="151526623523_.pic.jpg"></p>
<h3 id="åˆ›å»º-Observable"><a href="#åˆ›å»º-Observable" class="headerlink" title="åˆ›å»º Observable"></a><strong>åˆ›å»º</strong> <strong>Observable</strong></h3><p>ç±»å‹æ“¦é™¤çš„ObservableTypeï¼Œä¹Ÿå°±æ˜¯ Swift ä¸­çš„æ³›å‹ã€‚</p>
<p>å®ƒä»£è¡¨äº†ä¸€ç§æ¨å¼é£æ ¼é˜Ÿåˆ—ã€‚</p>
<p>let observable: Observable<Int> &#x3D; Observable<Int>.just(one)</p>
<h3 id="è®¢é˜…-Observable"><a href="#è®¢é˜…-Observable" class="headerlink" title="è®¢é˜… Observable"></a><strong>è®¢é˜…</strong> <strong>Observable</strong></h3><p>è®¢é˜…observable sequenceçš„äº‹ä»¶å¤„ç†ç¨‹åºã€‚</p>
<p>func subscribe(_ on: @escaping (RxSwift.Event&lt;Self.E&gt;) -&gt; Swift.Void) -&gt; Disposable</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> one <span class="operator">=</span> <span class="number">1</span></span><br><span class="line"><span class="keyword">let</span> two <span class="operator">=</span> <span class="number">2</span></span><br><span class="line"><span class="keyword">let</span> three <span class="operator">=</span> <span class="number">3</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> observable <span class="operator">=</span> <span class="type">Observable</span>.of(one, two, three)</span><br><span class="line"></span><br><span class="line">observable.subscribe(onNext: &#123; element <span class="keyword">in</span></span><br><span class="line">    <span class="built_in">print</span>(element)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<p>åœ¨æŒ‡å®šçš„èŒƒå›´å†…ç”Ÿæˆä¸€ä¸ªæ•´æ•°çš„observable sequenceï¼Œä½¿ç”¨æŒ‡å®šçš„schedulerç”Ÿæˆå’Œå‘é€<code>Observer</code>æ¶ˆæ¯ã€‚</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">static</span> <span class="keyword">func</span> <span class="title function_">range</span>(<span class="params">start</span>: <span class="keyword">Self</span>.<span class="type">E</span>, <span class="params">count</span>: <span class="keyword">Self</span>.<span class="type">E</span>, <span class="params">scheduler</span>: <span class="type">ImmediateSchedulerType</span> <span class="operator">=</span> <span class="keyword">default</span>) -&gt; <span class="type">RxSwift</span>.<span class="type">Observable</span>&lt;<span class="keyword">Self</span>.<span class="type">E</span>&gt;</span><br></pre></td></tr></table></figure>

<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> observable <span class="operator">=</span> <span class="type">Observable</span>&lt;<span class="type">Int</span>&gt;.range(start: <span class="number">1</span>, count: <span class="number">10</span>)</span><br><span class="line">observable</span><br><span class="line">    .subscribe(onNext: &#123; i <span class="keyword">in</span></span><br><span class="line">        <span class="keyword">let</span> n <span class="operator">=</span> <span class="type">Double</span>(i)</span><br><span class="line">        <span class="keyword">let</span> fibonacci <span class="operator">=</span> <span class="type">Int</span>(((pow(<span class="number">1.61803</span>, n) <span class="operator">-</span> pow(<span class="number">0.61803</span>, n)) <span class="operator">/</span></span><br><span class="line">            <span class="number">2.23606</span>).rounded())</span><br><span class="line">        <span class="built_in">print</span>(fibonacci)</span><br><span class="line">    &#125;)</span><br></pre></td></tr></table></figure>

<h3 id="Disposing-å’Œ-terminating"><a href="#Disposing-å’Œ-terminating" class="headerlink" title="Disposing å’Œ terminating"></a><strong>Disposing å’Œ terminating</strong></h3><p>è¯·è®°ä½, åœ¨æ”¶åˆ°è®¢é˜…ä¹‹å‰, Observableçš„å†…å®¹ä¸ä¼šæ‰§è¡Œä»»ä½•äº‹æƒ…ã€‚å®ƒæ˜¯è§¦å‘ä¸€ä¸ªObservableçš„å¼€å§‹å‘å‡ºäº‹ä»¶çš„è®¢é˜…, ç›´åˆ°å®ƒå‘å‡º. error æˆ–.completedå®Œæˆäº‹ä»¶å¹¶ç»ˆæ­¢ã€‚æ‚¨å¯ä»¥é€šè¿‡å–æ¶ˆå¯¹å®ƒçš„è®¢é˜…æ¥æ‰‹åŠ¨ç»ˆæ­¢Observableã€‚</p>
<p><code>subscription.dispose()</code></p>
<p>å•ç‹¬ç®¡ç†æ¯ä¸ªè®¢é˜…å°†æ˜¯å•è°ƒä¹å‘³çš„, å› æ­¤ RxSwift å¼•å…¥ DisposeBag ç±»å‹ã€‚DisposeBag æŒæœ‰ disposableåè®®çš„å¯¹è±¡ï¼Œé€šå¸¸æ˜¯ä½¿ç”¨<code>.disposed(by:)</code> æ–¹æ³•, å¹¶å°†è°ƒç”¨dispose(), å½“DisposeBagå³å°†deallocatedã€‚</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> observable <span class="operator">=</span> <span class="type">Observable</span>.of(<span class="string">&quot;A&quot;</span>, <span class="string">&quot;B&quot;</span>, <span class="string">&quot;C&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> subscription <span class="operator">=</span> observable.subscribe &#123; event <span class="keyword">in</span></span><br><span class="line">    <span class="built_in">print</span>(event)</span><br><span class="line">&#125;</span><br><span class="line">subscription.dispose()</span><br></pre></td></tr></table></figure>

<p>createæ“ä½œç¬¦æ¥å—ä¸€ä¸ªåä¸ºsubscribeçš„å‚æ•°ã€‚ å®ƒçš„å·¥ä½œæ˜¯æä¾›å¯¹å¯è§‚å¯Ÿå¯¹è±¡è¿›è¡Œè°ƒç”¨è®¢é˜…çš„å®ç°ã€‚ æ¢å¥è¯è¯´ï¼Œå®ƒå®šä¹‰äº†å°†å‘é€ç»™è®¢é˜…è€…çš„æ‰€æœ‰äº‹ä»¶ã€‚</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">static</span> <span class="keyword">func</span> <span class="title function_">create</span>(<span class="keyword">_</span> <span class="params">subscribe</span>: <span class="keyword">@escaping</span> (<span class="type">AnyObserver</span>&lt;<span class="type">String</span>&gt;) -&gt; <span class="type">Disposable</span>) -&gt; <span class="type">Observable</span>&lt;<span class="type">String</span>&gt;</span><br></pre></td></tr></table></figure>

<h3 id="åˆ›å»º-observable-å·¥å‚ç±»"><a href="#åˆ›å»º-observable-å·¥å‚ç±»" class="headerlink" title="åˆ›å»º observable å·¥å‚ç±»"></a><strong>åˆ›å»º observable å·¥å‚ç±»</strong></h3><p>å¯ä»¥åˆ›å»ºä¸€ä¸ªå¯è§‚å¯Ÿçš„å·¥å‚ï¼Œå‘æ¯ä¸ªè®¢é˜…è€…å‘å¸ƒä¸€ä¸ªæ–°çš„Observableï¼Œè€Œä¸æ˜¯åˆ›å»ºä¸€ä¸ªç­‰å¾…è®¢é˜…è€…çš„Observableã€‚</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">static</span> <span class="keyword">func</span> <span class="title function_">deferred</span>(<span class="keyword">_</span> <span class="params">observableFactory</span>: <span class="keyword">@escaping</span> () <span class="keyword">throws</span> -&gt; <span class="type">Observable</span>&lt;<span class="type">Int</span>&gt;) -&gt; <span class="type">Observable</span>&lt;<span class="type">Int</span>&gt;</span><br></pre></td></tr></table></figure>

<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> disposeBag <span class="operator">=</span> <span class="type">DisposeBag</span>()</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> flip <span class="operator">=</span> <span class="literal">false</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> factory: <span class="type">Observable</span>&lt;<span class="type">Int</span>&gt; <span class="operator">=</span> <span class="type">Observable</span>.deferred &#123;</span><br><span class="line">    flip <span class="operator">=</span> <span class="operator">!</span>flip</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> flip &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="type">Observable</span>.of(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>)</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="type">Observable</span>.of(<span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> <span class="keyword">_</span> <span class="keyword">in</span> <span class="number">0</span><span class="operator">...</span><span class="number">3</span> &#123;</span><br><span class="line">    factory.subscribe(onNext: &#123;</span><br><span class="line">        <span class="built_in">print</span>(<span class="variable">$0</span>, terminator: <span class="string">&quot;&quot;</span>)</span><br><span class="line">    &#125;)</span><br><span class="line">        .disposed(by: disposeBag)</span><br><span class="line"></span><br><span class="line">    <span class="built_in">print</span>()</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">123 </span><br><span class="line">456 </span><br><span class="line">123 </span><br><span class="line">456</span><br></pre></td></tr></table></figure>

<h3 id="ä½¿ç”¨Traits"><a href="#ä½¿ç”¨Traits" class="headerlink" title="ä½¿ç”¨Traits"></a><strong>ä½¿ç”¨Traits</strong></h3><p><strong>Traits</strong>æ˜¯å…·æœ‰æ¯”å¸¸è§„Observableæ›´çª„çš„è¡Œä¸ºé›†åˆçš„ä¸€ç§Observableã€‚å®ƒä»¬çš„ä½¿ç”¨æ˜¯å¯é€‰çš„ï¼›æ‚¨å¯ä»¥åœ¨ä»»ä½•å¯èƒ½ä½¿ç”¨traitçš„åœ°æ–¹ä½¿ç”¨å¸¸è§„Observableã€‚ä»–ä»¬çš„ç›®çš„æ˜¯æä¾›ä¸€ç§ç»™ä½ çš„APIæˆ–è€…ä»£ç çš„è¯»è€…æ›´æ¸…æ¥šåœ°è¡¨è¾¾æ„å›¾çš„æ–¹å¼ã€‚ </p>
<p>RxSwiftä¸­æœ‰ä¸‰ç§Traits: Single, Maybe å’Œ Completable.</p>
<p>Singleså°†å‘å‡º.success(value)æˆ–.erroräº‹ä»¶ã€‚ .success(value)å®é™…ä¸Šæ˜¯.nextå’Œ.completedäº‹ä»¶çš„ç»„åˆã€‚ è¿™å¯¹äºä¸€æ¬¡æ€§è¿›ç¨‹éå¸¸æœ‰ç”¨ï¼Œå®ƒå¯ä»¥æˆåŠŸå¹¶äº§ç”Ÿä¸€ä¸ªå€¼æˆ–å¤±è´¥ï¼Œä¾‹å¦‚ä¸‹è½½æ•°æ®æˆ–ä»ç£ç›˜åŠ è½½æ•°æ®ã€‚</p>
<p>ä¸‹é¢çš„ä¾‹å­æ˜¯è¯»å– <code>Copyright.txt</code> çš„æ–‡ä»¶å†…å®¹ï¼š</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> disposeBag <span class="operator">=</span> <span class="type">DisposeBag</span>()</span><br><span class="line"></span><br><span class="line"><span class="keyword">enum</span> <span class="title class_">FileReadError</span>: <span class="title class_">Error</span> &#123;</span><br><span class="line">    <span class="keyword">case</span> fileNotFound, unreadable, encodingFailed</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">func</span> <span class="title function_">loadText</span>(<span class="params">from</span> <span class="params">filename</span>: <span class="type">String</span>) -&gt; <span class="type">Single</span>&lt;<span class="type">String</span>&gt; &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="type">Single</span>.create &#123; single <span class="keyword">in</span></span><br><span class="line">        <span class="keyword">let</span> disposable <span class="operator">=</span> <span class="type">Disposables</span>.create()</span><br><span class="line"></span><br><span class="line">        <span class="keyword">guard</span> <span class="keyword">let</span> path <span class="operator">=</span> <span class="type">Bundle</span>.main.path(forResource: filename, ofType: <span class="string">&quot;txt&quot;</span>) <span class="keyword">else</span> &#123;</span><br><span class="line">            single(.error(<span class="type">FileReadError</span>.fileNotFound))</span><br><span class="line">            <span class="keyword">return</span> disposable</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">guard</span> <span class="keyword">let</span> data <span class="operator">=</span> <span class="type">FileManager</span>.default.contents(atPath: path) <span class="keyword">else</span> &#123;</span><br><span class="line">            single(.error(<span class="type">FileReadError</span>.unreadable))</span><br><span class="line">            <span class="keyword">return</span> disposable</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">guard</span> <span class="keyword">let</span> contents <span class="operator">=</span> <span class="type">String</span>(data: data, encoding: .utf8) <span class="keyword">else</span> &#123;</span><br><span class="line">            single(.error(<span class="type">FileReadError</span>.encodingFailed))</span><br><span class="line">            <span class="keyword">return</span> disposable</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        single(.success(contents))</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> disposable</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">loadText(from: <span class="string">&quot;Copyright&quot;</span>)</span><br><span class="line">    .subscribe &#123;</span><br><span class="line">        <span class="keyword">switch</span> <span class="variable">$0</span> &#123;</span><br><span class="line">        <span class="keyword">case</span> .success(<span class="keyword">let</span> string):</span><br><span class="line">            <span class="built_in">print</span>(string)</span><br><span class="line">        <span class="keyword">case</span> .error(<span class="keyword">let</span> error):</span><br><span class="line">            <span class="built_in">print</span>(error)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    .disposed(by: disposeBag)</span><br></pre></td></tr></table></figure>



<h3 id="å‰¯ä½œç”¨"><a href="#å‰¯ä½œç”¨" class="headerlink" title="å‰¯ä½œç”¨"></a><strong>å‰¯ä½œç”¨</strong></h3><p> <code>do</code> Operatorå…è®¸æ’å…¥å‰¯ä½œç”¨ï¼Œå¤„ç†ç¨‹åºæ‰§è¡Œè¿‡ç¨‹ä¸­å¹¶ä¸ä¼šä»¥ä»»ä½•æ–¹å¼æ›´æ”¹å‘å‡ºçš„äº‹ä»¶çš„æ“ä½œã€‚</p>
<h3 id="æ‰“å°debug-ä¿¡æ¯"><a href="#æ‰“å°debug-ä¿¡æ¯" class="headerlink" title="æ‰“å°debug ä¿¡æ¯"></a><strong>æ‰“å°debug ä¿¡æ¯</strong></h3><p><code>debug</code> Operator, å®ƒå°†æ‰“å°observableçš„æ¯ä¸ªäº‹ä»¶çš„ä¿¡æ¯ã€‚</p>
<h2 id="ç¬¬ä¸‰ç« ï¼šSubjects"><a href="#ç¬¬ä¸‰ç« ï¼šSubjects" class="headerlink" title="ç¬¬ä¸‰ç« ï¼šSubjects"></a>ç¬¬ä¸‰ç« ï¼šSubjects</h2><h3 id="Subject-æ˜¯ä»€ä¹ˆ"><a href="#Subject-æ˜¯ä»€ä¹ˆ" class="headerlink" title="Subject æ˜¯ä»€ä¹ˆ"></a>Subject æ˜¯ä»€ä¹ˆ</h3><p>æ—¢å¯ä»¥ä½œä¸º<code>Observable</code>ï¼Œä¹Ÿå¯ä»¥ä½œä¸º<code>Observer</code>ï¼Œè¿™å°±æ˜¯æ‰€è°“çš„ Subjectsã€‚</p>
<blockquote>
<p>ä¹Ÿæ˜¯æœ€æ–¹ä¾¿äº’æ“ä½œçš„ï¼Œ<code>BehaviorRelay</code>æ¯”è¾ƒå¸¸ç”¨ã€‚</p>
</blockquote>
<p>RxSwift ä¸­æœ‰å››ä¸ªsubjectç±»å‹: </p>
<ol>
<li><code>PublishSubject</code>: å¼€å§‹ä¸ºç©º, åªå‘è®¢é˜…è€…å‘å‡ºæ–°å…ƒç´ . </li>
<li><code>ReplaySubject</code>: ç”¨ç¼“å†²åŒºå¤§å°, å¹¶å°†ä¿æŒå…ƒç´ çš„ç¼“å†²åŒºå¤§å°, å¹¶å°†å…¶é‡æ’­åˆ°æ–°è®¢é˜…è€…. </li>
<li><code>BehaviorSubject</code>: ä»åˆå§‹å€¼å¼€å§‹, å°†å…¶é‡æ’­æˆ–å°†æœ€æ–°çš„å…ƒç´ ç»™æ–°è®¢é˜…è€…. </li>
<li><code>AsyncSubject</code>ï¼šä»…å‘å‡ºåºåˆ—ä¸­çš„æœ€åä¸€ä¸ªnextäº‹ä»¶ï¼Œå¹¶ä¸”ä»…å½“subjectæ”¶åˆ°completedäº‹ä»¶æ—¶æ‰å‘å‡ºã€‚è¿™æ˜¯ä¸€ä¸ªå¾ˆå°‘ä½¿ç”¨çš„ä¸»é¢˜ã€‚</li>
</ol>
<h3 id="PublishSubject"><a href="#PublishSubject" class="headerlink" title="PublishSubject"></a>PublishSubject</h3><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/// Represents an object that is both an observable sequence as well as an observer.</span></span><br><span class="line"><span class="comment">/// Each notification is broadcasted to all subscribed observers.</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">final</span> <span class="keyword">class</span> <span class="title class_">PublishSubject</span>&lt;<span class="title class_">Element</span>&gt;</span><br></pre></td></tr></table></figure>

<p>å½“ä½ åªæ˜¯æƒ³è®©è®¢é˜…è€…åªæ¥å—åœ¨è®¢é˜…çš„æ—¶å€™ä»¥åå‘ç”Ÿçš„æ–°çš„äº‹ä»¶ï¼Œç›´åˆ°ä»–ä»¬unsubscribeï¼Œæˆ–è€…subjectå·²ç»terminatedä»¥.completedæˆ–.erroräº‹ä»¶çš„æ–¹å¼ï¼ŒPublishSubjectå°±å¯ä»¥æ´¾ä¸Šç”¨åœºã€‚</p>
<p><img src="https://gewill.org/assets/RxSwiftPublishSubject.jpg" alt="RxSwiftPublishSubject"></p>
<p>ç¬¬ä¸€ä¸ªè®¢é˜…è€…åœ¨å°† 1 æ·»åŠ åˆ°subjectåè¿›è¡Œè®¢é˜…ï¼Œå› æ­¤å®ƒä¸ä¼šæ”¶åˆ°è¯¥äº‹ä»¶ã€‚ä¸è¿‡ï¼Œå®ƒç¡®å®å¾—åˆ°äº†2å’Œ3ã€‚ç”±äºç¬¬äºŒä¸ªè®¢é˜…è€…åœ¨æ·»åŠ 2ä¹‹å‰ä¸ä¼šåŠ å…¥ï¼Œå› æ­¤å®ƒåªèƒ½è·å¾—3ã€‚</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">extension</span> <span class="title class_">ObservableType</span> &#123;</span><br><span class="line">    <span class="comment">/// æ·»åŠ å¸¦æœ‰`id`çš„è§‚å¯Ÿè€…å¹¶æ‰“å°æ¯ä¸ªå‘å‡ºçš„äº‹ä»¶ã€‚</span></span><br><span class="line">    <span class="keyword">func</span> <span class="title function_">addObserver</span>(<span class="keyword">_</span> <span class="params">id</span>: <span class="type">String</span>) -&gt; <span class="type">Disposable</span> &#123;</span><br><span class="line">        subscribe &#123; <span class="built_in">print</span>(<span class="string">&quot;è§‚å¯Ÿè€…:&quot;</span>, id, <span class="string">&quot;äº‹ä»¶:&quot;</span>, <span class="variable">$0</span>) &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ä»è®¢é˜…å¼€å§‹å‘æ‰€æœ‰è§‚å¯Ÿè€…å¹¿æ’­æ–°äº‹ä»¶ã€‚</span></span><br><span class="line">example(<span class="string">&quot;PublishSubject&quot;</span>) &#123;</span><br><span class="line">    <span class="keyword">let</span> disposeBag <span class="operator">=</span> <span class="type">DisposeBag</span>()</span><br><span class="line">    <span class="keyword">let</span> subject <span class="operator">=</span> <span class="type">PublishSubject</span>&lt;<span class="type">String</span>&gt;()</span><br><span class="line"></span><br><span class="line">    subject.addObserver(<span class="string">&quot;1&quot;</span>).disposed(by: disposeBag)</span><br><span class="line">    subject.onNext(<span class="string">&quot;ğŸ¶&quot;</span>)</span><br><span class="line">    subject.onNext(<span class="string">&quot;ğŸ±&quot;</span>)</span><br><span class="line"></span><br><span class="line">    subject.addObserver(<span class="string">&quot;2&quot;</span>).disposed(by: disposeBag)</span><br><span class="line">    subject.onNext(<span class="string">&quot;ğŸ…°ï¸&quot;</span>)</span><br><span class="line">    subject.onNext(<span class="string">&quot;ğŸ…±ï¸&quot;</span>)</span><br><span class="line">    </span><br><span class="line">    subject.onCompleted()</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">--- PublishSubject example ---</span><br><span class="line">è§‚å¯Ÿè€…: 1 äº‹ä»¶: next(ğŸ¶)</span><br><span class="line">è§‚å¯Ÿè€…: 1 äº‹ä»¶: next(ğŸ±)</span><br><span class="line">è§‚å¯Ÿè€…: 1 äº‹ä»¶: next(ğŸ…°ï¸)</span><br><span class="line">è§‚å¯Ÿè€…: 2 äº‹ä»¶: next(ğŸ…°ï¸)</span><br><span class="line">è§‚å¯Ÿè€…: 1 äº‹ä»¶: next(ğŸ…±ï¸)</span><br><span class="line">è§‚å¯Ÿè€…: 2 äº‹ä»¶: next(ğŸ…±ï¸)</span><br><span class="line">è§‚å¯Ÿè€…: 1 äº‹ä»¶: completed</span><br><span class="line">è§‚å¯Ÿè€…: 2 äº‹ä»¶: completed</span><br></pre></td></tr></table></figure>

<h3 id="ReplaySubject"><a href="#ReplaySubject" class="headerlink" title="ReplaySubject"></a>ReplaySubject</h3><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/// Represents an object that is both an observable sequence as well as an observer.</span></span><br><span class="line"><span class="comment">///</span></span><br><span class="line"><span class="comment">/// Each notification is broadcasted to all subscribed and future observers, subject to buffer trimming policies.</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ReplaySubject</span>&lt;<span class="title class_">Element</span>&gt;</span><br></pre></td></tr></table></figure>

<p>ReplaySubjectå°†ä¸´æ—¶ç¼“å­˜, æˆ–ç¼“å†²åŒº, å®ƒä»¬å‘å‡ºçš„æœ€æ–°å…ƒç´ , ç”±æ‚¨é€‰æ‹©çš„ speciï¬ed å¤§å°å†³å®šã€‚ç„¶å, ä»–ä»¬ä¼šå°†è¯¥ç¼“å†²åŒºé‡æ’­åˆ°æ–°è®¢é˜…è€…ã€‚</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å‘æ‰€æœ‰è§‚å¯Ÿè€…å¹¿æ’­æ–°äº‹ä»¶ï¼Œå¹¶å‘æ–°è§‚å¯Ÿè€…å¹¿æ’­ä¹‹å‰æŒ‡å®šçš„bufferSizeå¤§å°çš„äº‹ä»¶æ•°ã€‚</span></span><br><span class="line">example(<span class="string">&quot;ReplaySubject&quot;</span>) &#123;</span><br><span class="line">    <span class="keyword">let</span> disposeBag <span class="operator">=</span> <span class="type">DisposeBag</span>()</span><br><span class="line">    <span class="keyword">let</span> subject <span class="operator">=</span> <span class="type">ReplaySubject</span>&lt;<span class="type">String</span>&gt;.create(bufferSize: <span class="number">1</span>)</span><br><span class="line"></span><br><span class="line">    subject.addObserver(<span class="string">&quot;1&quot;</span>).disposed(by: disposeBag)</span><br><span class="line">    subject.onNext(<span class="string">&quot;ğŸ¶&quot;</span>)</span><br><span class="line">    subject.onNext(<span class="string">&quot;ğŸ±&quot;</span>)</span><br><span class="line"></span><br><span class="line">    subject.addObserver(<span class="string">&quot;2&quot;</span>).disposed(by: disposeBag)</span><br><span class="line">    subject.onNext(<span class="string">&quot;ğŸ…°ï¸&quot;</span>)</span><br><span class="line">    subject.onNext(<span class="string">&quot;ğŸ…±ï¸&quot;</span>)</span><br><span class="line">    </span><br><span class="line">    subject.onCompleted()</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">--- ReplaySubject example ---</span><br><span class="line">è§‚å¯Ÿè€…: 1 äº‹ä»¶: next(ğŸ¶)</span><br><span class="line">è§‚å¯Ÿè€…: 1 äº‹ä»¶: next(ğŸ±)</span><br><span class="line">è§‚å¯Ÿè€…: 2 äº‹ä»¶: next(ğŸ±) // ç›¸æ¯”PublishSubjectå¤šäº†è®¢é˜…å‰ä¸€ä¸ªäº‹ä»¶</span><br><span class="line">è§‚å¯Ÿè€…: 1 äº‹ä»¶: next(ğŸ…°ï¸)</span><br><span class="line">è§‚å¯Ÿè€…: 2 äº‹ä»¶: next(ğŸ…°ï¸)</span><br><span class="line">è§‚å¯Ÿè€…: 1 äº‹ä»¶: next(ğŸ…±ï¸)</span><br><span class="line">è§‚å¯Ÿè€…: 2 äº‹ä»¶: next(ğŸ…±ï¸)</span><br><span class="line">è§‚å¯Ÿè€…: 1 äº‹ä»¶: completed</span><br><span class="line">è§‚å¯Ÿè€…: 2 äº‹ä»¶: completed</span><br></pre></td></tr></table></figure>



<h3 id="BehaviorSubject"><a href="#BehaviorSubject" class="headerlink" title="BehaviorSubject"></a>BehaviorSubject</h3><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/// Represents a value that changes over time.</span></span><br><span class="line"><span class="comment">/// Observers can subscribe to the subject to receive the last (or initial) value and all subsequent notifications.</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">final</span> <span class="keyword">class</span> <span class="title class_">BehaviorSubject</span>&lt;<span class="title class_">Element</span>&gt;</span><br></pre></td></tr></table></figure>

<p>å½“æ‚¨å¸Œæœ›ä½¿ç”¨æœ€æ–°æ•°æ®é¢„å…ˆå¡«å……Viewæ—¶, BehaviorSubjectéå¸¸æœ‰ç”¨ã€‚ä¾‹å¦‚, å¯ä»¥å°†ç”¨æˆ·è¯¦æƒ…é¡µä¸­çš„æ§ä»¶ç»‘å®šåˆ°BehaviorSubject, ä»¥ä¾¿åœ¨åº”ç”¨ç¨‹åºè·å–æ–°æ•°æ®æ—¶, å¯ä»¥ä½¿ç”¨æœ€æ–°å€¼æ¥é¢„å…ˆå¡«å……æ˜¾ç¤ºã€‚ </p>
<p><img src="https://gewill.org/assets/RxSwiftBehaviorSubject.png" alt="RxSwiftBehaviorSubject"> </p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">example(<span class="string">&quot;BehaviorSubject&quot;</span>) &#123;</span><br><span class="line">    <span class="keyword">let</span> disposeBag <span class="operator">=</span> <span class="type">DisposeBag</span>()</span><br><span class="line">    <span class="keyword">let</span> subject <span class="operator">=</span> <span class="type">BehaviorSubject</span>(value: <span class="string">&quot;ğŸ”´&quot;</span>)</span><br><span class="line"></span><br><span class="line">    subject.addObserver(<span class="string">&quot;1&quot;</span>).disposed(by: disposeBag)</span><br><span class="line">    subject.onNext(<span class="string">&quot;ğŸ¶&quot;</span>)</span><br><span class="line">    subject.onNext(<span class="string">&quot;ğŸ±&quot;</span>)</span><br><span class="line"></span><br><span class="line">    subject.addObserver(<span class="string">&quot;2&quot;</span>).disposed(by: disposeBag)</span><br><span class="line">    subject.onNext(<span class="string">&quot;ğŸ…°ï¸&quot;</span>)</span><br><span class="line">    subject.onNext(<span class="string">&quot;ğŸ…±ï¸&quot;</span>)</span><br><span class="line">  </span><br><span class="line">    subject.onCompleted()</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">--- BehaviorSubject example ---</span><br><span class="line">è§‚å¯Ÿè€…: 1 äº‹ä»¶: next(ğŸ”´) // ç›¸æ¯”ReplaySubjectå¤šäº†è®¢é˜…å‰ä¸€ä¸ªäº‹ä»¶</span><br><span class="line">è§‚å¯Ÿè€…: 1 äº‹ä»¶: next(ğŸ¶)</span><br><span class="line">è§‚å¯Ÿè€…: 1 äº‹ä»¶: next(ğŸ±)</span><br><span class="line">è§‚å¯Ÿè€…: 2 äº‹ä»¶: next(ğŸ±)</span><br><span class="line">è§‚å¯Ÿè€…: 1 äº‹ä»¶: next(ğŸ…°ï¸)</span><br><span class="line">è§‚å¯Ÿè€…: 2 äº‹ä»¶: next(ğŸ…°ï¸)</span><br><span class="line">è§‚å¯Ÿè€…: 1 äº‹ä»¶: next(ğŸ…±ï¸)</span><br><span class="line">è§‚å¯Ÿè€…: 2 äº‹ä»¶: next(ğŸ…±ï¸)</span><br><span class="line">è§‚å¯Ÿè€…: 1 äº‹ä»¶: completed</span><br><span class="line">è§‚å¯Ÿè€…: 2 äº‹ä»¶: completed</span><br></pre></td></tr></table></figure>

<h3 id="Relay"><a href="#Relay" class="headerlink" title="Relay"></a>Relay</h3><p>Relayåœ¨ä¿æŒå…¶replayè¡Œä¸ºçš„åŒæ—¶åŒ…è£…äº†subjectã€‚ä¸å…¶ä»–subjectä¸åŒï¼Œå¯ä»¥ä½¿ç”¨ <code>accept(_:)</code> æ·»åŠ å€¼ï¼Œè€Œé <code>onNext(_:)</code>ã€‚è¿™æ˜¯å› ä¸ºRelayåªèƒ½æ¥å—å€¼ï¼Œå³ä¸èƒ½å‘å®ƒä»¬æ·»åŠ é”™è¯¯æˆ–å·²å®Œæˆçš„äº‹ä»¶ã€‚</p>
<p>PublishRelayå°†åŒ…è£…PublishSubject ï¼Œè€ŒBehaviorRelayå°†åŒ…è£…BehaviorSubjectã€‚ä¸­ç»§ä¸åŒ…è£…ä¸»ä½“çš„åŒºåˆ«åœ¨äºï¼Œå®ƒä»¬å¯ä»¥ä¿è¯æ°¸è¿œä¸ä¼šç»ˆæ­¢ã€‚</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> RxRelay</span><br><span class="line"></span><br><span class="line">example(<span class="string">&quot;PublishRelay&quot;</span>) &#123;</span><br><span class="line">    <span class="keyword">let</span> disposeBag <span class="operator">=</span> <span class="type">DisposeBag</span>()</span><br><span class="line">    <span class="keyword">let</span> subject <span class="operator">=</span> <span class="type">PublishRelay</span>&lt;<span class="type">String</span>&gt;()</span><br><span class="line"></span><br><span class="line">    subject.addObserver(<span class="string">&quot;1&quot;</span>).disposed(by: disposeBag)</span><br><span class="line">    subject.accept(<span class="string">&quot;ğŸ¶&quot;</span>)</span><br><span class="line">    subject.accept(<span class="string">&quot;ğŸ±&quot;</span>)</span><br><span class="line"></span><br><span class="line">    subject.addObserver(<span class="string">&quot;2&quot;</span>).disposed(by: disposeBag)</span><br><span class="line">    subject.accept(<span class="string">&quot;ğŸ…°ï¸&quot;</span>)</span><br><span class="line">    subject.accept(<span class="string">&quot;ğŸ…±ï¸&quot;</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">--- PublishRelay example ---</span><br><span class="line">è§‚å¯Ÿè€…: 1 äº‹ä»¶: next(ğŸ¶) //nextäº‹ä»¶å’ŒPublishSubjectä¸€æ ·ï¼Œå°‘äº†completedäº‹ä»¶</span><br><span class="line">è§‚å¯Ÿè€…: 1 äº‹ä»¶: next(ğŸ±)</span><br><span class="line">è§‚å¯Ÿè€…: 1 äº‹ä»¶: next(ğŸ…°ï¸)</span><br><span class="line">è§‚å¯Ÿè€…: 2 äº‹ä»¶: next(ğŸ…°ï¸)</span><br><span class="line">è§‚å¯Ÿè€…: 1 äº‹ä»¶: next(ğŸ…±ï¸)</span><br><span class="line">è§‚å¯Ÿè€…: 2 äº‹ä»¶: next(ğŸ…±ï¸)</span><br></pre></td></tr></table></figure>

<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> RxRelay</span><br><span class="line"></span><br><span class="line">example(<span class="string">&quot;BehaviorRelay&quot;</span>) &#123;</span><br><span class="line">    <span class="keyword">let</span> disposeBag <span class="operator">=</span> <span class="type">DisposeBag</span>()</span><br><span class="line">    <span class="keyword">let</span> subject <span class="operator">=</span> <span class="type">BehaviorRelay</span>&lt;<span class="type">String</span>&gt;(value: <span class="string">&quot;ğŸ”´&quot;</span>)</span><br><span class="line"></span><br><span class="line">    subject.addObserver(<span class="string">&quot;1&quot;</span>).disposed(by: disposeBag)</span><br><span class="line">    subject.accept(<span class="string">&quot;ğŸ¶&quot;</span>)</span><br><span class="line">    subject.accept(<span class="string">&quot;ğŸ±&quot;</span>)</span><br><span class="line"></span><br><span class="line">    subject.addObserver(<span class="string">&quot;2&quot;</span>).disposed(by: disposeBag)</span><br><span class="line">    subject.accept(<span class="string">&quot;ğŸ…°ï¸&quot;</span>)</span><br><span class="line">    subject.accept(<span class="string">&quot;ğŸ…±ï¸&quot;</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">--- BehaviorRelay example ---</span><br><span class="line">è§‚å¯Ÿè€…: 1 äº‹ä»¶: next(ğŸ”´)  //nextäº‹ä»¶å’ŒBehaviorSubjectï¼Œå°‘äº†completedäº‹ä»¶</span><br><span class="line">è§‚å¯Ÿè€…: 1 äº‹ä»¶: next(ğŸ¶)</span><br><span class="line">è§‚å¯Ÿè€…: 1 äº‹ä»¶: next(ğŸ±)</span><br><span class="line">è§‚å¯Ÿè€…: 2 äº‹ä»¶: next(ğŸ±)</span><br><span class="line">è§‚å¯Ÿè€…: 1 äº‹ä»¶: next(ğŸ…°ï¸)</span><br><span class="line">è§‚å¯Ÿè€…: 2 äº‹ä»¶: next(ğŸ…°ï¸)</span><br><span class="line">è§‚å¯Ÿè€…: 1 äº‹ä»¶: next(ğŸ…±ï¸)</span><br><span class="line">è§‚å¯Ÿè€…: 2 äº‹ä»¶: next(ğŸ…±ï¸)</span><br></pre></td></tr></table></figure>



<h2 id="ç¬¬å››ç« ï¼šObservables-å’Œ-Subjects-å®è·µ"><a href="#ç¬¬å››ç« ï¼šObservables-å’Œ-Subjects-å®è·µ" class="headerlink" title="ç¬¬å››ç« ï¼šObservables å’Œ Subjects å®è·µ"></a>ç¬¬å››ç« ï¼šObservables å’Œ Subjects å®è·µ</h2><p>æœ¬ç« é‡ç‚¹æ˜¯åœ¨ä¸€ä¸ªå®Œæ•´çš„åº”ç”¨å¼€å‘ä¸­ä½¿ç”¨RxSwiftï¼Œä¸€æ­¥ä¸€æ­¥çš„å­¦ä¼šå¦‚ä½•æŠŠæ¦‚å¿µåº”ç”¨åˆ°å®é™…é¡¹ç›®ä¸­ã€‚</p>
<h3 id="åœ¨-view-controller-ä¸­ä½¿ç”¨-subject-x2F-relay"><a href="#åœ¨-view-controller-ä¸­ä½¿ç”¨-subject-x2F-relay" class="headerlink" title="åœ¨ view controller ä¸­ä½¿ç”¨ subject&#x2F;relay"></a>åœ¨ view controller ä¸­ä½¿ç”¨ subject&#x2F;relay</h3><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">override</span> <span class="keyword">func</span> <span class="title function_">viewDidLoad</span>() &#123;</span><br><span class="line">  <span class="keyword">super</span>.viewDidLoad()</span><br><span class="line"></span><br><span class="line">  images</span><br><span class="line">    .subscribe(onNext: &#123; [<span class="keyword">weak</span> imagePreview] photos <span class="keyword">in</span></span><br><span class="line">      <span class="keyword">guard</span> <span class="keyword">let</span> preview <span class="operator">=</span> imagePreview <span class="keyword">else</span> &#123; <span class="keyword">return</span> &#125;</span><br><span class="line">      preview.image <span class="operator">=</span> photos.collage(size: preview.frame.size)</span><br><span class="line">    &#125;)</span><br><span class="line">    .disposed(by: bag)</span><br><span class="line"></span><br><span class="line">  images</span><br><span class="line">    .subscribe(onNext: &#123; [<span class="keyword">weak</span> <span class="keyword">self</span>] photos <span class="keyword">in</span></span><br><span class="line">      <span class="keyword">self</span><span class="operator">?</span>.updateUI(photos: photos)</span><br><span class="line">    &#125;)</span><br><span class="line">    .disposed(by: bag)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="ä½¿ç”¨-subject-åœ¨-view-controller-ä¹‹é—´ä¼ å€¼"><a href="#ä½¿ç”¨-subject-åœ¨-view-controller-ä¹‹é—´ä¼ å€¼" class="headerlink" title="ä½¿ç”¨ subject åœ¨ view controller ä¹‹é—´ä¼ å€¼"></a>ä½¿ç”¨ subject åœ¨ view controller ä¹‹é—´ä¼ å€¼</h3><p>view controller ä¹‹é—´ä¼ å€¼å¯ä»¥é€šè¿‡ delegateï¼Œä½†æ˜¯ç”¨ subject æ›´å¥½ã€‚</p>
<p><img src="https://gewill.org/assets/Talkingtootherviewcontrollersviadelegate.jpg" alt="Talkingtootherviewcontrollersviadelegate"></p>
<p><img src="https://gewill.org/assets/Talkingtootherviewcontrollersviasubjects.jpg" alt="Talkingtootherviewcontrollersviasubjects"></p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">@IBAction</span> <span class="keyword">func</span> <span class="title function_">actionAdd</span>() &#123;</span><br><span class="line">    <span class="keyword">let</span> photosViewController <span class="operator">=</span> storyboard<span class="operator">!</span>.instantiateViewController(</span><br><span class="line">        withIdentifier: <span class="string">&quot;PhotosViewController&quot;</span>) <span class="keyword">as!</span> <span class="type">PhotosViewController</span></span><br><span class="line"></span><br><span class="line">    navigationController<span class="operator">!</span>.pushViewController(photosViewController, animated: <span class="literal">true</span>)</span><br><span class="line"></span><br><span class="line">    photosViewController.selectedPhotos</span><br><span class="line">        .subscribe(</span><br><span class="line">            onNext: &#123; [<span class="keyword">weak</span> <span class="keyword">self</span>] newImage <span class="keyword">in</span></span><br><span class="line">                <span class="keyword">guard</span> <span class="keyword">let</span> images <span class="operator">=</span> <span class="keyword">self</span><span class="operator">?</span>.images <span class="keyword">else</span> &#123; <span class="keyword">return</span> &#125;</span><br><span class="line">                images.accept(images.value <span class="operator">+</span> [newImage])</span><br><span class="line">            &#125;,</span><br><span class="line">            onDisposed: &#123;</span><br><span class="line">                <span class="built_in">print</span>(<span class="string">&quot;completed photo selection&quot;</span>)</span><br><span class="line">            &#125;</span><br><span class="line">        )</span><br><span class="line">        .disposed(by: bag)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="å°è£…å·²æœ‰APIä¸ºObservable"><a href="#å°è£…å·²æœ‰APIä¸ºObservable" class="headerlink" title="å°è£…å·²æœ‰APIä¸ºObservable"></a>å°è£…å·²æœ‰APIä¸ºObservable</h3><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> Foundation</span><br><span class="line"><span class="keyword">import</span> Photos</span><br><span class="line"><span class="keyword">import</span> RxSwift</span><br><span class="line"><span class="keyword">import</span> UIKit</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">PhotoWriter</span> &#123;</span><br><span class="line">  <span class="keyword">enum</span> <span class="title class_">Errors</span>: <span class="title class_">Error</span> &#123;</span><br><span class="line">    <span class="keyword">case</span> couldNotSavePhoto</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">static</span> <span class="keyword">func</span> <span class="title function_">save</span>(<span class="keyword">_</span> <span class="params">image</span>: <span class="type">UIImage</span>) -&gt; <span class="type">Observable</span>&lt;<span class="type">String</span>&gt; &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="type">Observable</span>.create &#123; observer <span class="keyword">in</span></span><br><span class="line">      <span class="keyword">var</span> savedAssetId: <span class="type">String</span>?</span><br><span class="line">      <span class="type">PHPhotoLibrary</span>.shared().performChanges(&#123;</span><br><span class="line">        <span class="keyword">let</span> request <span class="operator">=</span> <span class="type">PHAssetChangeRequest</span>.creationRequestForAsset(from: image)</span><br><span class="line">        savedAssetId <span class="operator">=</span> request.placeholderForCreatedAsset<span class="operator">?</span>.localIdentifier</span><br><span class="line">      &#125;, completionHandler: &#123; success, error <span class="keyword">in</span></span><br><span class="line">        <span class="type">DispatchQueue</span>.main.async &#123;</span><br><span class="line">          <span class="keyword">if</span> success, <span class="keyword">let</span> id <span class="operator">=</span> savedAssetId &#123;</span><br><span class="line">            observer.onNext(id)</span><br><span class="line">            observer.onCompleted()</span><br><span class="line">          &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            observer.onError(error <span class="operator">??</span> <span class="type">Errors</span>.couldNotSavePhoto)</span><br><span class="line">          &#125;</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;)</span><br><span class="line"></span><br><span class="line">      <span class="keyword">return</span> <span class="type">Disposables</span>.create()</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="RxSwift-traits-å®è·µ"><a href="#RxSwift-traits-å®è·µ" class="headerlink" title="RxSwift traits å®è·µ"></a>RxSwift traits å®è·µ</h3><h4 id="Single"><a href="#Single" class="headerlink" title="Single"></a>Single</h4><p>Single åªæœ‰<code>.success</code> æˆ– <code>.error</code> ä¸¤ç§äº‹ä»¶ ã€‚é€‚åˆä½œä¸ºå°è£…ç½‘ç»œæ¥å£çš„è¿”å›å€¼ï¼Œè¦ä¹ˆæˆåŠŸï¼Œè¦ä¹ˆå¤±è´¥ã€‚<img src="https://gewill.org/assets/single.jpg" alt="single"></p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">PhotoWriter</span>.save(image)</span><br><span class="line">      .asSingle()</span><br><span class="line">      .subscribe(onSuccess: &#123; [<span class="keyword">weak</span> <span class="keyword">self</span>] id <span class="keyword">in</span></span><br><span class="line">        <span class="keyword">self</span><span class="operator">?</span>.showMessage(<span class="string">&quot;Saved with id: <span class="subst">\(id)</span>&quot;</span>)</span><br><span class="line">        <span class="keyword">self</span><span class="operator">?</span>.actionClear()</span><br><span class="line">        &#125;, onError: &#123; [<span class="keyword">weak</span> <span class="keyword">self</span>] error <span class="keyword">in</span></span><br><span class="line">          <span class="keyword">self</span><span class="operator">?</span>.showMessage(<span class="string">&quot;Error&quot;</span>, description: error.localizedDescription)</span><br><span class="line">      &#125;)</span><br><span class="line">      .disposed(by: bag)</span><br></pre></td></tr></table></figure>

<h4 id="Maybe"><a href="#Maybe" class="headerlink" title="Maybe"></a>Maybe</h4><p>Maybe æœ‰ä¸‰ç§äº‹ä»¶ï¼š<code>.success</code>ã€<code>.completed</code> å’Œ <code>.error</code> ã€‚</p>
<p>å’Œ Single ä¸€æ ·ï¼Œä½ æ—¢å¯ä»¥é€šè¿‡ <code>Maybe.create(&#123; ... &#125;)</code> ç›´æ¥åˆ›å»ºï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨ <code>.asMaybe()</code></p>
<p><img src="https://gewill.org/assets/maybe.jpg" alt="maybe"></p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">PhotoWriter</span>.save(image)</span><br><span class="line">    .asMaybe()</span><br><span class="line">    .subscribe(</span><br><span class="line">        onSuccess: &#123; [<span class="keyword">weak</span> <span class="keyword">self</span>] id <span class="keyword">in</span></span><br><span class="line">            <span class="keyword">self</span><span class="operator">?</span>.showMessage(<span class="string">&quot;Saved with id: <span class="subst">\(id)</span>&quot;</span>)</span><br><span class="line">            <span class="keyword">self</span><span class="operator">?</span>.actionClear()</span><br><span class="line">        &#125;,</span><br><span class="line">        onError: &#123; [<span class="keyword">weak</span> <span class="keyword">self</span>] error <span class="keyword">in</span></span><br><span class="line">            <span class="keyword">self</span><span class="operator">?</span>.showMessage(<span class="string">&quot;Error&quot;</span>, description: error.localizedDescription)</span><br><span class="line">        &#125;,</span><br><span class="line">        onCompleted: &#123; [<span class="keyword">weak</span> <span class="keyword">self</span>] <span class="keyword">in</span></span><br><span class="line">            <span class="keyword">self</span><span class="operator">?</span>.showMessage(<span class="string">&quot;Saved&quot;</span>)</span><br><span class="line">        &#125;</span><br><span class="line">    )</span><br><span class="line">    .disposed(by: bag)</span><br></pre></td></tr></table></figure>

<h4 id="Completable"><a href="#Completable" class="headerlink" title="Completable"></a>Completable</h4><p>Completable åªæœ‰<code>.completed</code> å’Œ <code>.error</code> ä¸¤ç§äº‹ä»¶ã€‚é€‚åˆåªå…³å¿ƒæ˜¯å¦å®Œæˆï¼Œè€Œä¸éœ€è¦ä¼ é€’valueçš„æƒ…å†µã€‚ä½¿ç”¨æ–¹æ³•ï¼š<code>Completable.create(&#123; ... &#125;)</code></p>
<p><img src="https://gewill.org/assets/completable.jpg" alt="completable"></p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">PhotoWriter</span> &#123;</span><br><span class="line">  <span class="keyword">enum</span> <span class="title class_">Errors</span>: <span class="title class_">Error</span> &#123;</span><br><span class="line">    <span class="keyword">case</span> couldNotSavePhoto</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">static</span> <span class="keyword">func</span> <span class="title function_">save</span>(<span class="keyword">_</span> <span class="params">image</span>: <span class="type">UIImage</span>) -&gt; <span class="type">Completable</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="type">Completable</span>.create &#123; completable <span class="keyword">in</span></span><br><span class="line">      <span class="type">PHPhotoLibrary</span>.shared().performChanges(&#123;</span><br><span class="line">        <span class="type">PHAssetChangeRequest</span>.creationRequestForAsset(from: image)</span><br><span class="line">      &#125;, completionHandler: &#123; success, error <span class="keyword">in</span></span><br><span class="line">        <span class="type">DispatchQueue</span>.main.async &#123;</span><br><span class="line">          <span class="keyword">if</span> success &#123;</span><br><span class="line">            completable(.completed)</span><br><span class="line">          &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            completable(.error(error <span class="operator">??</span> <span class="type">Errors</span>.couldNotSavePhoto))</span><br><span class="line">          &#125;</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;)</span><br><span class="line">      <span class="keyword">return</span> <span class="type">Disposables</span>.create()</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">PhotoWriter</span>.save(image)</span><br><span class="line">  .subscribe(</span><br><span class="line">    onCompleted: &#123; [<span class="keyword">weak</span> <span class="keyword">self</span>] <span class="keyword">in</span></span><br><span class="line">      <span class="keyword">self</span><span class="operator">?</span>.showMessage(<span class="string">&quot;Saved&quot;</span>)</span><br><span class="line">    &#125;,</span><br><span class="line">    onError: &#123; [<span class="keyword">weak</span> <span class="keyword">self</span>] error <span class="keyword">in</span></span><br><span class="line">      <span class="keyword">self</span><span class="operator">?</span>.showMessage(<span class="string">&quot;Error&quot;</span>, description: error.localizedDescription)</span><br><span class="line">    &#125;</span><br><span class="line">  )</span><br><span class="line">  .disposed(by: bag)</span><br></pre></td></tr></table></figure>
    </div>

    
    
    

    <footer class="post-footer">
          <div class="post-tags">
              <a href="/tags/Swift/" rel="tag"># Swift</a>
              <a href="/tags/RxSwift/" rel="tag"># RxSwift</a>
          </div>

        

          <div class="post-nav">
            <div class="post-nav-item">
                <a href="/2018/05/10/Realm-Notes-2/" rel="prev" title="Realm ç¬”è®°(äºŒ)">
                  <i class="fa fa-chevron-left"></i> Realm ç¬”è®°(äºŒ)
                </a>
            </div>
            <div class="post-nav-item">
                <a href="/2018/08/01/RxSwift-%E2%85%A1/" rel="next" title="RxSwift â…¡ï¼šæ“ä½œç¬¦å’Œæœ€ä½³å®è·µ">
                  RxSwift â…¡ï¼šæ“ä½œç¬¦å’Œæœ€ä½³å®è·µ <i class="fa fa-chevron-right"></i>
                </a>
            </div>
          </div>
    </footer>
  </article>
</div>






</div>
  </main>

  <footer class="footer">
    <div class="footer-inner">

  <div class="copyright">
    &copy; 
    <span itemprop="copyrightYear">2025</span>
    <span class="with-love">
      <i class="fa fa-heart"></i>
    </span>
    <span class="author" itemprop="copyrightHolder">Ge Will</span>
  </div>
  <div class="powered-by">Powered by <a href="https://hexo.io/" rel="noopener" target="_blank">Hexo</a> & <a href="https://theme-next.js.org/pisces/" rel="noopener" target="_blank">NexT.Pisces</a>
  </div>

    </div>
  </footer>

  
  <div class="back-to-top" role="button" aria-label="Back to top">
    <i class="fa fa-arrow-up fa-lg"></i>
    <span>0%</span>
  </div>

<noscript>
  <div class="noscript-warning">Theme NexT works best with JavaScript enabled</div>
</noscript>


  
  <script src="https://cdnjs.cloudflare.com/ajax/libs/animejs/3.2.1/anime.min.js" integrity="sha256-XL2inqUJaslATFnHdJOi9GfQ60on8Wx1C2H8DYiN1xY=" crossorigin="anonymous"></script>
<script src="/js/comments.js"></script><script src="/js/utils.js"></script><script src="/js/motion.js"></script><script src="/js/next-boot.js"></script>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/hexo-generator-searchdb/1.4.1/search.js" integrity="sha256-1kfA5uHPf65M5cphT2dvymhkuyHPQp5A53EGZOnOLmc=" crossorigin="anonymous"></script>
<script src="/js/third-party/search/local-search.js"></script>







  





</body>
</html>
